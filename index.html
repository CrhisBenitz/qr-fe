<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>CUR</title>
  <link rel="stylesheet" href="main.css" />
  <script src="scripts.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/a-color-picker@1.1.8/dist/acolorpicker.js"></script>

</head>
<body>

  <form id="qrForm">
    <h1>Cur (QR)</h1>
  <div class="qr-options-grid">

    <fieldset style="flex-grow: 2;">

      <div id="qrCode" style="border: 2px dashed #ccc; display: flex; align-items: center; justify-content: center; width: 90%; max-width: 80%; aspect-ratio: 1; margin: 10% 10% 10% 10%;">
        <span style="color: #999;">QR will appear here</span>
      </div>

      <div class="row-2col" style="display: flex; align-items: center; justify-content: center; width: 94%; max-width: 94%;  margin: 3% 3% 3% 3%;">
        <button type="submit">Generate QR</button>
        <button type="button" id="shareBtn">Share QR</button>
      </div>

    </fieldset>

    <!-- MAIN QR STYLING -->

    <fieldset style="flex-grow: 3;">
      <legend>Main QR Styling</legend>

      <label for="text">Text</label>
      <input type="text" id="text" name="text" style="width: 100%;" placeholder="Enter text" required="">

      <div class="row-3col">
        <div class="field-group"  style="flex-shrink: 2;">
          <label for="main-color"> <input type="checkbox" id="main-color-cb" name="main-color-cb"> Color <button type="button" class="color-button" data-target="color" id="main-color-bt" style="background-color: rgb(0,0,0);"></button>
          </label>
          <input type="hidden" name="main-color" id="main-color-ip" value="rgb(0,0,0)">
        </div>
        <div class="field-group" style="flex-shrink: 2;">
          <label for="main-bg"><input type="checkbox" id="main-bg-cb" name="main-bg-cb"> BG <button type="button" class="color-button" data-target="color" id="main-bg-bt" style="background-color: rgb(255,255,255);"></button>
          </label>
          <input type="hidden" name="main-bg" id="main-bg-ip" value="rgb(255,255,255)">
        </div>
        <div class="field-group">
          <label for="main-drawer">Mod
          <select name="main-drawer" id="main-drawer">
            <option value="squares">Squares</option>
            <option value="circles">Circles</option>
            <option value="gapped-squares">Gapped Squares</option>
            <option value="gapped-circles">Gapped Circles</option>
            <option value="vertical-bars">Vertical Bars</option>
            <option value="horizontal-bars">Horizontal Bars</option>
          </select>
          </label>
        </div>
      </div>


      <!-- INNER EYES -->

      <legend>Inner Eyes</legend>

        <div class="row-3col">
          <div class="field-group" style="flex-shrink: 2;">
            <label for="innereyes-color"> <input type="checkbox" id="innereyes-color-cb" name="innereyes-color-cb"> Color <button type="button" class="color-button" data-target="color" id="innereyes-color-bt" style="background-color: rgb(0,0,0);"></button>
            </label>
            <input type="hidden" name="innereyes-color" id="innereyes-color-ip" value="None">
          </div>
          <div class="field-group" style="flex-shrink: 2;">
            <label for="innereyes-bg"><input type="checkbox" id="innereyes-bg-cb" name="innereyes-bg-cb"> BG <button type="button" class="color-button" data-target="color" id="innereyes-bg-bt" style="background-color: rgb(255,255,255);"></button>
            </label>
            <input type="hidden" name="innereyes-bg" id="innereyes-bg-ip" value="None">
          </div>

          <div class="field-group">
            <label for="innereyes-drawer">Mod
            <select name="innereyes-drawer" id="innereyes-drawer">
              <option value="squares">Squares</option>
              <option value="circles">Circles</option>
              <option value="gapped-squares">Gapped Squares</option>
              <option value="gapped-circles">Gapped Circles</option>
              <option value="vertical-bars">Vertical Bars</option>
              <option value="horizontal-bars">Horizontal Bars</option>
            </select>
            </label>
          </div>
        </div>

    <!-- OUTER EYES -->
      <legend>Outer Eyes</legend>

        <div class="row-3col">

          <div class="field-group" style="flex-shrink: 2;">
            <label for="outereyes-color"> <input type="checkbox" id="outereyes-color-cb" name="outereyes-color-cb"> Color <button type="button" class="color-button" data-target="color" id="outereyes-color-bt" style="background-color: rgb(0,0,0);"></button>
            </label>
            <input type="hidden" name="outereyes-color" id="outereyes-color-ip" value="None">
          </div>

          <div class="field-group" style="flex-shrink: 2;">
            <label for="bg"><input type="checkbox" id="outereyes-bg-cb" name="outereyes-bg-cb"> BG <button type="button" class="color-button" data-target="color" id="outereyes-bg-bt" style="background-color: rgb(255,255,255);"></button>
            </label>
            <input type="hidden" name="outereyes-bg" id="outereyes-bg-ip" value="None">
          </div>

          <div class="field-group">
            <label for="outereyes-drawer">Mod
            <select name="outereyes-drawer" id="outereyes-drawer">
              <option value="squares">Squares</option>
              <option value="circles">Circles</option>
              <option value="gapped-squares">Gapped Squares</option>
              <option value="gapped-circles">Gapped Circles</option>
              <option value="vertical-bars">Vertical Bars</option>
              <option value="horizontal-bars">Horizontal Bars</option>
            </select>
            </label>
          </div>
        </div>

    <legend>Logo and Mask</legend>
      <div class="row-2col">

        <div class="field-group" style="flex-shrink: 2;">
          <label for="imageURL">Mask Image URL: <input id="imageURL" name="imageURL" placeholder="https://example.com/mask.png" style="width: 100%;"></label>

        </div>
      </div>
      <div class="row-2col">

        <div class="field-group" style="flex-shrink: 2;">
          <label for="logoURL">Logo URL: <input id="logoURL" name="logoURL" placeholder="https://example.com/logo.png" style="width: 100%;"></label>

        </div>
      </div>

      </fieldset>

    <fieldset style="flex-shrink: 2;">
      <div class="picker" id="picker-color"
         acp-color="#9f136d"
         acp-show-hex
         acp-palette="PALETTE_MATERIAL_500"></div>
    </fieldset>

  </div>


</form>

<!-- <iframe
  src="https://sketchpad.app"
  width="100%"
  height="600"
  style="border: none;"
  allowfullscreen>
</iframe> -->

<!-- Simple Analytics - 100% privacy-first analytics -->
<script async src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
<script>
  // We enclose our code in an anonymous function, so it does not interfere with other code
  (function () {
    // Name for the event
    var event = "form_submit";

    // This function binds an events to a form
    function bindToForms(element) {
      // We use dataset to check if we already added our event to this form
      if (element.dataset.simpleAnalytics) return;
      element.dataset.simpleAnalytics = "submit-event";

      // Here we listen for forms that are submitted
      element.addEventListener("submit", function (event) {
        // If the Simple Analytics script is not loaded, we don't do anything
        if (!window.sa_loaded) return;

        // We prevent the form from being submitted, because we do this later after sa_event
        event.preventDefault();

        // We look for a button in the form to find the button text
        var button = element.querySelector('[type="submit"], .button, .btn');
        var text = button ? button.textContent.trim().toLowerCase() : null;

        // We add some values to the metadata of our event
        var metadata = {
          button: text,
          action: element.action,
          id: element.getAttribute("id"),
          classes: element.getAttribute("class")
        };

        // We send a form_submit event to Simple Analytics
        window.sa_event(event, metadata, function () {
          // Now we submit the form for real
          element.submit();
        });
      });
    }

    // This function finds all forms and passes it to the bindToForms function
    function onDOMContentLoaded() {
      document.querySelectorAll("form").forEach(bindToForms);
    }

    // This code runs the onDOMContentLoaded function when the page is done loading
    if (document.readyState === "ready" || document.readyState === "complete") {
      onDOMContentLoaded();
    } else {
      document.addEventListener("readystatechange", function (event) {
        if (event.target.readyState === "complete") onDOMContentLoaded();
      });
    }

    // If there is no MutationObserver, we skip the following logic
    if (!window.MutationObserver)
      return console.warn("Simple Analytics: MutationObserver not found");

    // We look for new form elements when the MutationObserver detects a change
    var callback = function (mutationList) {
      mutationList.forEach(function (mutation) {
        mutation.addedNodes.forEach(function (node) {
          // We look for form elements in the page
          if (node && node.tagName === "FORM") bindToForms(node);
        });
      });
    };

    // This is the observer that detects changes on the page
    // it can happen that new forms are created after the inital page load
    // For example, in a modal that pops up to change some data.
    var observer = new MutationObserver(callback);

    // Here we start observing the page for changes
    observer.observe(document.body, { childList: true, subtree: true });
  })();
</script>


</body>
</html>
